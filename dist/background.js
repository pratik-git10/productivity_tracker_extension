(()=>{"use strict";console.log("Background script running...");var t=null,n=null,e=function(t,n){chrome.storage.local.get(["timeData"],(function(e){var o=e.timeData||{};o[t]=(o[t]||0)+n,chrome.storage.local.set({timeData:o}),console.log("Updated time for ".concat(t,": ").concat(o[t]," seconds"))}))};chrome.tabs.onActivated.addListener((function(o){chrome.tabs.get(o.tabId,(function(o){if(o.url){var a=function(t){if(!t)return null;try{return new URL(t).hostname}catch(t){return null}}(o.url);if(a&&a!==t){var r=Date.now();if(t&&n){var c=Math.floor((r-n)/1e3);e(t,c)}t=a,n=r}}}))})),chrome.runtime.onSuspend.addListener((function(){if(t&&n){var o=Math.floor((Date.now()-n)/1e3);e(t,o)}}))})();